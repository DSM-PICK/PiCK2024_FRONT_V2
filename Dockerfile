FROM node:21.5.0

WORKDIR /user/src

COPY package.json .

RUN yarn

COPY . .

RUN yarn build

EXPOSE 3000

CMD ["yarn", "dev"]

ARG BASE_URL
ARG FILE_URL
ARG VITE_PUBLIC_CHAT_KEY

ENV VITE_SERVER_BASE_URL=${BASE_URL}
ENV VITE_PUBLIC_FILE_APP=${FILE_URL}
ENV VITE_PUBLIC_CHAT_KEY=${VITE_PUBLIC_CHAT_KEY}

